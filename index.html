<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kiosek – Ultra kompatibilní</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#f8fafc;color:#0f172a}
    .wrap{max-width:1000px;margin:0 auto;padding:16px;display:grid;grid-template-columns:1fr;gap:16px}
    @media (min-width:800px){.wrap{grid-template-columns:1fr 1fr}}
    .card{background:#fff;border:1px solid #e2e8f0;border-radius:14px;padding:14px;display:flex;flex-direction:column}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
    @media (min-width:500px){.grid{grid-template-columns:repeat(3,1fr)}}
    button{font:inherit}
    .btn{border:1px solid #e2e8f0;background:#fff;border-radius:12px;padding:10px;text-align:left}
    .btn:active{transform:scale(.98)}
    .name{font-weight:600}
    .price{color:#64748b;font-size:14px}
    .bill{border:1px solid #e2e8f0;border-radius:10px;min-height:220px;max-height:70vh;overflow:auto}
    .row{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;border-bottom:1px solid #e2e8f0}
    .row:last-child{border-bottom:0}
    .idx{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background:#f1f5f9;color:#475569;font-size:12px;font-weight:600;margin-right:8px}
    .remove{border:1px solid #e2e8f0;background:#fff;border-radius:8px;padding:6px 8px;font-size:12px}
    .footer{display:flex;justify-content:space-between;font-weight:700;margin-top:10px}
    .clear{background:#0f172a;color:#fff;border:0;border-radius:10px;padding:9px 12px}
    .note{color:#64748b;font-size:12px;margin-top:8px}
  </style>

  <script>
    var items = []; // {uid,name,price}
    function fmt(n){ return (Math.round(n*100)/100).toLocaleString('cs-CZ') + ' Kč'; }
    function uid(){ return String(Math.random()).slice(2); }
    function total(){ var s=0,i; for(i=0;i<items.length;i++){ s+=items[i].price; } return s; }
    function renderBill(){
      var bill=document.getElementById('bill'); var totalEl=document.getElementById('total');
      if(!bill||!totalEl) return;
      if(items.length===0){ bill.innerHTML='<div style=&quot;padding:14px;color:#94a3b8&quot;>Zatím nic nepřidáno</div>'; totalEl.innerHTML='0 Kč'; return; }
      var html=''; for(var i=0;i<items.length;i++){ var it=items[i];
        html+='<div class=&quot;row&quot;>'+
              '<div><span class=&quot;idx&quot;>'+(i+1)+'</span>'+it.name+'</div>'+
              '<div><span>'+fmt(it.price)+'</span> '+
              '<button class=&quot;remove&quot; onclick=&quot;removeItem(\''+it.uid+'\')&quot;>Odebrat</button></div>'+
              '</div>'; }
      bill.innerHTML=html; totalEl.innerHTML=fmt(total());
    }
    function addItem(name, price){ var p=Number(price); if(isNaN(p)) p=0; items.push({uid:uid(),name:name,price:p}); renderBill(); }
    function removeItem(id){ for(var i=0;i<items.length;i++){ if(items[i].uid===id){ items.splice(i,1); break; } } renderBill(); }
    function clearAll(){ items=[]; renderBill(); }
    function ready(){ renderBill(); var ok=document.getElementById('jsok'); if(ok) ok.innerHTML='JavaScript běží ✓'; }
    if(document.addEventListener){ document.addEventListener('DOMContentLoaded', ready, false); } else { window.attachEvent('onload', ready); }
  </script>
</head>
<body>
  <div class="wrap">
    <section class="card">
      <h1>Sčítací systém</h1>
      <div style="color:#64748b;font-size:14px;margin-bottom:10px">Klepni na položku pro přidání do účtenky</div>
      <div class="grid">
        <button class="btn" onclick="addItem('Klobása',90)"><div class="name">Klobása</div><div class="price">90 Kč</div></button>
        <button class="btn" onclick="addItem('Malé pivo',45)"><div class="name">Malé pivo</div><div class="price">45 Kč</div></button>
        <button class="btn" onclick="addItem('Velké pivo',55)"><div class="name">Velké pivo</div><div class="price">55 Kč</div></button>
        <button class="btn" onclick="addItem('Limonáda',40)"><div class="name">Limonáda</div><div class="price">40 Kč</div></button>
        <button class="btn" onclick="addItem('Voda',25)"><div class="name">Voda</div><div class="price">25 Kč</div></button>
        <button class="btn" onclick="addItem('Káva',45)"><div class="name">Káva</div><div class="price">45 Kč</div></button>
        <button class="btn" onclick="addItem('Čaj',35)"><div class="name">Čaj</div><div class="price">35 Kč</div></button>
        <button class="btn" onclick="addItem('Hranolky',65)"><div class="name">Hranolky</div><div class="price">65 Kč</div></button>
      </div>
      <div id="jsok" class="note">Kontrola JavaScriptu…</div>
      <div class="note">Položky změníš úpravou textu a hodnot v tlačítkách (onclick).</div>
    </section>

    <section class="card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <h2>Účtenka</h2>
        <button class="clear" onclick="clearAll()">Vynulovat vše</button>
      </div>
      <div id="bill" class="bill"><div style="padding:14px;color:#94a3b8">Zatím nic nepřidáno</div></div>
      <div class="footer"><span>Celkem</span><span id="total">0 Kč</span></div>
    </section>
  </div>
</body>
</html>
